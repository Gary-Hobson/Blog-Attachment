# C语言预处理指令之include

---
**闲言碎语**  

在最开始写这篇文章时是打算用一篇文章将预处理指令写完，但是写着写着发现整体下来的篇幅太大了。  
同时把所有的指令放到一块很难对每个指令做出详细的介绍，所以后面准备使用一篇文章去讲解一个点，争取把它说清楚。

---
## 关于include 指令
```#include```指令可能是我们使用最多的一个预处理指令了， 基本在所有源文件中都要使用include包含头文件。
像下面的情况一样：
 ```c
 #include <math.h> 
 #include "add.h"
 ```

但是include 只能包含头文件吗？
<font color=red >#include 指令的实质是文件替换</font>
```#include <stdio.h>```这条指令的作用就是将stdio.h的文件替换到include 指令的位置。

既然如此我们除了可以使用include包含头文件，在某些特殊场合下我们还可以来包含源文件

我们可以像下面一样改变宏定义，来选择编译外部文件或者源文件中的main。
```c
#ifdef EXTERN_MAIN

#define EXTERN_MAIN
#define SRC_FILE "test.c"

#include SRC_FILE

#else

int main()
{

}
#endif
```

在使用的include 指令时，有尖括号<>和双引号""两种方式,这两种方式有什么区别呢？
在使用尖括号<>时，预处理器会直接从系统目录(包括工程中定义的include包含路径 )中去查找该文件。
使用双引号时首先会在当前源文件所在的目录中去查找该文件。在使用双引号在当前路径无法找到该文件时，才会去系统路径去查找。

> 在使用双引号包含头文件时，可根据源文件的相对路径来进行查找，而不需要在工程中添加include路径。
> 同时使用双引号引用头文件时，如果在当前路径下找到文件后，将不会在系统目录中去查找文件，可用于替换系统的库文件
